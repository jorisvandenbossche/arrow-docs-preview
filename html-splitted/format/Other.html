
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Other Data Structures &#8212; Apache Arrow v7.0.0.dev574+gbd1ea0bfe</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/blank.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/theme_overrides.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="canonical" href="https://arrow.apache.org/docs/format/Other.html" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Developers documentation" href="../developers/index.html" />
    <link rel="prev" title="The Arrow C stream interface" href="CStreamInterface.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-107500873-1', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    


    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
<a class="navbar-brand" href="../index.html">
  <img src="../_static/arrow.png" class="logo" alt="logo">
</a>


<div id="subproject-button" class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Specifications and Protocols
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      
      <a class="nav-link" href="/c_glib">C/GLib</a>
      
      <a class="nav-link" href="/cpp">C++</a>
      
      <a class="nav-link" href="https://github.com/apache/arrow/blob/master/csharp/README.md">C#</a>
      
      <a class="nav-link" href="https://godoc.org/github.com/apache/arrow/go/arrow">Go</a>
      
      <a class="nav-link" href="/java">Java</a>
      
      <a class="nav-link" href="/js">JavaScript</a>
      
      <a class="nav-link" href="https://github.com/apache/arrow/blob/master/julia/Arrow/README.md">Julia</a>
      
      <a class="nav-link" href="https://github.com/apache/arrow/blob/master/matlab/README.md">MATLAB</a>
      
      <a class="nav-link" href="/python">Python</a>
      
      <a class="nav-link" href="/r">R</a>
      
      <a class="nav-link" href="https://github.com/apache/arrow/blob/master/ruby/README.md">Ruby</a>
      
      <a class="nav-link" href="https://docs.rs/crate/arrow/">Rust</a>
      
      <a class="nav-link" href="/status.html">Implementation status</a>
      
      <a class="nav-link" href="/format">Specifications and Protocols</a>
      
      <a class="nav-link" href="/developers">Developer documentation</a>
      
 </div>
</div>

<div id="version-search-wrapper">

<div id="version-button" class="dropdown">
    <button type="button" class="btn btn-secondary btn-sm navbar-btn dropdown-toggle" id="version_switcher_button" data-toggle="dropdown">
        7.0.0 (dev)
        <span class="caret"></span>
    </button>
    <div id="version_switcher" class="dropdown-menu list-group-flush py-0" aria-labelledby="version_switcher_button">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>

<script type="text/javascript">
// Function to construct the target URL from the JSON components
function buildURL(entry) {
    var template = "https://arrow.apache.org/docs/{version}";  // supplied by jinja
    template = template.replace("{version}", entry.version);
    return template;
}

// Function to check if corresponding page path exists in other version of docs
// and, if so, go there instead of the homepage of the other docs version
function checkPageExistsAndRedirect(event) {
    const currentFilePath = "format/Other.html",
          otherDocsHomepage = event.target.getAttribute("href");
    let tryUrl = `${otherDocsHomepage}${currentFilePath}`;
    $.ajax({
        type: 'HEAD',
        url: tryUrl,
        // if the page exists, go there
        success: function() {
            location.href = tryUrl;
        }
    }).fail(function() {
        location.href = otherDocsHomepage;
    });
    return false;
}

// Function to populate the version switcher
(function () {
    // get JSON config
    $.getJSON("/docs/_static/versions.json", function(data, textStatus, jqXHR) {
        // create the nodes first (before AJAX calls) to ensure the order is
        // correct (for now, links will go to doc version homepage)
        $.each(data, function(index, entry) {
            // if no custom name specified (e.g., "latest"), use version string
            if (!("name" in entry)) {
                entry.name = entry.version;
            }
            // construct the appropriate URL, and add it to the dropdown
            entry.url = buildURL(entry);
            const node = document.createElement("a");
            node.setAttribute("class", "list-group-item list-group-item-action py-1");
            node.setAttribute("href", `${entry.url}`);
            node.textContent = `${entry.name}`;
            node.onclick = checkPageExistsAndRedirect;
            $("#version_switcher").append(node);
        });
    });
})();
</script>

<form id="search-box" class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>

</div>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
    <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Specifications and Protocols
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Versioning.html">
   Format Versioning and Stability
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Columnar.html">
   Arrow Columnar Format
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Flight.html">
   Arrow Flight RPC
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Integration.html">
   Integration Testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="CDataInterface.html">
   The Arrow C data interface
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="CStreamInterface.html">
   The Arrow C stream interface
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Other Data Structures
  </a>
 </li>
</ul>

    
  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tensor-multi-dimensional-array">
   Tensor (Multi-dimensional Array)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sparse-tensor">
   Sparse Tensor
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                

<div class="tocsection editthispage">
    <a href="https://github.com/apache/arrow/edit/master/docs/source/format/Other.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="other-data-structures">
<h1>Other Data Structures<a class="headerlink" href="#other-data-structures" title="Permalink to this headline">Â¶</a></h1>
<p>Our Flatbuffers protocol files have metadata for some other data
structures defined to allow other kinds of applications to take
advantage of common interprocess communication machinery. These data
structures are not considered to be part of the columnar format.</p>
<p>An Arrow columnar implementation is not required to implement these
types.</p>
<div class="section" id="tensor-multi-dimensional-array">
<h2>Tensor (Multi-dimensional Array)<a class="headerlink" href="#tensor-multi-dimensional-array" title="Permalink to this headline">Â¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">Tensor</span></code> message types provides a way to write a
multidimensional array of fixed-size values (such as a NumPy ndarray).</p>
<p>When writing a standalone encapsulated tensor message, we use the
encapsulated IPC format defined in the <a class="reference internal" href="Columnar.html#format-columnar"><span class="std std-ref">Columnar Specification</span></a>, but additionally align the starting offset of the
tensor body to be a multiple of 64 bytes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">metadata</span> <span class="n">prefix</span> <span class="ow">and</span> <span class="n">metadata</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">PADDING</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">tensor</span> <span class="n">body</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="sparse-tensor">
<h2>Sparse Tensor<a class="headerlink" href="#sparse-tensor" title="Permalink to this headline">Â¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">SparseTensor</span></code> represents a multidimensional array whose elements
are generally almost all zeros.</p>
<p>When writing a standalone encapsulated sparse tensor message, we use
the encapsulated IPC format defined in the <a class="reference internal" href="Columnar.html#format-columnar"><span class="std std-ref">Columnar Specification</span></a>, but additionally align the starting offsets of the
sparse index and the sparse tensor body (if writing to a shared memory
region) to be multiples of 64 bytes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">metadata</span> <span class="n">prefix</span> <span class="ow">and</span> <span class="n">metadata</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">PADDING</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">sparse</span> <span class="n">index</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">PADDING</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">sparse</span> <span class="n">tensor</span> <span class="n">body</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The contents of the sparse tensor index depends on what kind of sparse
format is used.</p>
</div>
</div>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="CStreamInterface.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">The Arrow C stream interface</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../developers/index.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Developers documentation</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2016-2022 Apache Software Foundation.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.2.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>